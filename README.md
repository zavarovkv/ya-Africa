# ya-Africa. Second task for Yandex School

Основная ошибка в коде заключается в некорректном определении функции callback внутри цикла for.

В теле цикла for создается внутренняя функция callback изнутри которой происходит обращение 
к переменной request, которая определена области видимости цикла for. При обращении к request - 
callback получит значение на момент обращения. В момент вызова первого callback, цикл for 
уже завершится и request будет иметь последнее значение - '/populations'.

Очевидно, решение заключается в том, чтобы зафиксировать значение request на момент
создания функции callback. 

Для этого была добавлена анонимная функция, которая сохраняет в своей области видимости 
текущее значение request и возвращает функцию обработчик callback, которая в свою очередь
имеет доступ к значению request зафиксированному в области видимости анонимной родительской 
функции.
